const a4_0x19c0=['done','response','data','RUNNER_FAILURE_PERF_ENTRY','value','output','throw','agentName','../../../utilities/metric-logger','VERBOSE_LOGGING','apply','createMetricRecorder','/nx-cloud/executions/complete-run-group','error','dtePollTasks','Completed\x20run\x20group\x20with\x20an\x20error','mapRespToPerfEntry','axiosMultipleTries','Completing\x20run\x20group\x20with\x20an\x20error','__esModule','apiAxiosInstance','__awaiter','createApiAxiosInstance','axiosException','note','runGroup:\x20','tasks','@nrwl/workspace/src/utilities/output','defineProperty','post','next','/nx-cloud/executions/tasks','then','completeRunGroup','recordMetric','DistributedAgentApi','../../../utilities/axios','completeRunGroupWithError','runGroup'];(function(_0x19937a,_0x19c010){const _0x5b20dc=function(_0x4b5d26){while(--_0x4b5d26){_0x19937a['push'](_0x19937a['shift']());}};_0x5b20dc(++_0x19c010);}(a4_0x19c0,0xcf));const a4_0x5b20=function(_0x19937a,_0x19c010){_0x19937a=_0x19937a-0x0;let _0x5b20dc=a4_0x19c0[_0x19937a];return _0x5b20dc;};'use strict';var __awaiter=this&&this[a4_0x5b20('0x9')]||function(_0xa07e6d,_0x278168,_0x387890,_0x3621bc){function _0x4a80cf(_0x3adbe2){return _0x3adbe2 instanceof _0x387890?_0x3adbe2:new _0x387890(function(_0x58573e){_0x58573e(_0x3adbe2);});}return new(_0x387890||(_0x387890=Promise))(function(_0x58eee2,_0x55e0bc){function _0x26feee(_0x9116a9){try{_0x2dea85(_0x3621bc[a4_0x5b20('0x12')](_0x9116a9));}catch(_0x25a249){_0x55e0bc(_0x25a249);}}function _0x1b322c(_0xe21a13){try{_0x2dea85(_0x3621bc[a4_0x5b20('0x21')](_0xe21a13));}catch(_0x209062){_0x55e0bc(_0x209062);}}function _0x2dea85(_0x17384e){_0x17384e[a4_0x5b20('0x1b')]?_0x58eee2(_0x17384e[a4_0x5b20('0x1f')]):_0x4a80cf(_0x17384e[a4_0x5b20('0x1f')])[a4_0x5b20('0x14')](_0x26feee,_0x1b322c);}_0x2dea85((_0x3621bc=_0x3621bc[a4_0x5b20('0x25')](_0xa07e6d,_0x278168||[]))[a4_0x5b20('0x12')]());});};Object[a4_0x5b20('0x10')](exports,a4_0x5b20('0x7'),{'value':!![]});exports[a4_0x5b20('0x17')]=void 0x0;const output_1=require(a4_0x5b20('0xf'));const axios_1=require(a4_0x5b20('0x18'));const environment_1=require('../../../utilities/environment');const metric_logger_1=require(a4_0x5b20('0x23'));class DistributedAgentApi{constructor(_0x5b6570,_0x2d6f0a,_0x2901df){this['runGroup']=_0x2d6f0a;this[a4_0x5b20('0x22')]=_0x2901df;this['apiAxiosInstance']=(0x0,axios_1[a4_0x5b20('0xa')])(_0x5b6570);}[a4_0x5b20('0xe')](_0x5c1226,_0x79dfa3,_0x1a3354){var _0x32b28e;return __awaiter(this,void 0x0,void 0x0,function*(){const _0x1b3dd0=(0x0,metric_logger_1[a4_0x5b20('0x26')])(a4_0x5b20('0x2'));try{const _0xdb6da8=yield(0x0,axios_1[a4_0x5b20('0x5')])(()=>this[a4_0x5b20('0x8')][a4_0x5b20('0x11')](a4_0x5b20('0x13'),{'runGroup':this[a4_0x5b20('0x1a')],'agentName':this[a4_0x5b20('0x22')],'executionId':_0x5c1226,'statusCode':_0x79dfa3,'completedTasks':_0x1a3354}));_0x1b3dd0[a4_0x5b20('0x16')]((0x0,metric_logger_1['mapRespToPerfEntry'])(_0xdb6da8));return _0xdb6da8[a4_0x5b20('0x1d')];}catch(_0x580ff4){_0x1b3dd0[a4_0x5b20('0x16')](((_0x32b28e=_0x580ff4===null||_0x580ff4===void 0x0?void 0x0:_0x580ff4[a4_0x5b20('0xb')])===null||_0x32b28e===void 0x0?void 0x0:_0x32b28e[a4_0x5b20('0x1c')])?(0x0,metric_logger_1[a4_0x5b20('0x4')])(_0x580ff4[a4_0x5b20('0xb')][a4_0x5b20('0x1c')]):metric_logger_1[a4_0x5b20('0x1e')]);throw _0x580ff4;}});}[a4_0x5b20('0x19')](_0x2d7180){var _0x588ef0;return __awaiter(this,void 0x0,void 0x0,function*(){if(environment_1[a4_0x5b20('0x24')]){output_1['output'][a4_0x5b20('0xc')]({'title':a4_0x5b20('0x6'),'bodyLines':[a4_0x5b20('0xd')+this['runGroup'],'error:\x20'+_0x2d7180]});}const _0x421bc8=(0x0,metric_logger_1[a4_0x5b20('0x26')])(a4_0x5b20('0x15'));try{const _0xb41035=yield(0x0,axios_1[a4_0x5b20('0x5')])(()=>this['apiAxiosInstance']['post'](a4_0x5b20('0x0'),{'runGroup':this[a4_0x5b20('0x1a')],'agentName':this[a4_0x5b20('0x22')],'criticalErrorMessage':_0x2d7180}));if(environment_1[a4_0x5b20('0x24')]){output_1[a4_0x5b20('0x20')][a4_0x5b20('0xc')]({'title':a4_0x5b20('0x3')});}_0x421bc8[a4_0x5b20('0x16')]((0x0,metric_logger_1[a4_0x5b20('0x4')])(_0xb41035));}catch(_0x7c5eaa){_0x421bc8['recordMetric'](((_0x588ef0=_0x7c5eaa===null||_0x7c5eaa===void 0x0?void 0x0:_0x7c5eaa[a4_0x5b20('0xb')])===null||_0x588ef0===void 0x0?void 0x0:_0x588ef0[a4_0x5b20('0x1c')])?(0x0,metric_logger_1[a4_0x5b20('0x4')])(_0x7c5eaa[a4_0x5b20('0xb')][a4_0x5b20('0x1c')]):metric_logger_1['RUNNER_FAILURE_PERF_ENTRY']);console[a4_0x5b20('0x1')](_0x7c5eaa);}});}}exports[a4_0x5b20('0x17')]=DistributedAgentApi;